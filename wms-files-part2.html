<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WMS Agent Files - Part 2 (Components & Pages)</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px;
            background: #f5f5f5;
            font-size: 14px;
        }
        .file-section {
            background: white;
            margin: 15px 0;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .file-header {
            background: #1890ff;
            color: white;
            padding: 12px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        .file-path {
            font-family: 'Monaco', 'Courier New', monospace;
            font-weight: bold;
            font-size: 13px;
        }
        .copy-btn {
            background: #52c41a;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            font-size: 12px;
            margin-top: 5px;
        }
        .copy-btn:hover {
            background: #389e0d;
        }
        .copy-btn.copied {
            background: #ff7875;
        }
        .code-content {
            background: #f6f8fa;
            padding: 15px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 11px;
            line-height: 1.4;
            overflow-x: auto;
            max-height: 350px;
            overflow-y: auto;
        }
        pre {
            margin: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .instructions {
            background: #e6f7ff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #1890ff;
        }
        .step {
            background: #f0f9ff;
            padding: 8px 12px;
            margin: 8px 0;
            border-radius: 4px;
            border-left: 3px solid #1890ff;
            font-size: 13px;
        }
        h1 { font-size: 24px; margin-bottom: 15px; }
        h3 { font-size: 16px; margin-bottom: 10px; }
        @media (max-width: 768px) {
            .file-header { padding: 10px; }
            .code-content { padding: 10px; font-size: 10px; }
            .copy-btn { padding: 4px 8px; font-size: 11px; }
        }
    </style>
</head>
<body>
    <h1>üöÄ WMS Agent Files - Part 2</h1>
    
    <div class="instructions">
        <h3>üì± iPad Instructions:</h3>
        <div class="step">1. Tap and HOLD on the code text below each file</div>
        <div class="step">2. Select "Copy" from the popup menu</div>
        <div class="step">3. Go to GitHub in Safari ‚Üí Your repo ‚Üí "Add file"</div>
        <div class="step">4. Enter the file path exactly as shown</div>
        <div class="step">5. Paste and commit! üéâ</div>
    </div>

    <!-- File 1: API Service -->
    <div class="file-section">
        <div class="file-header">
            <span class="file-path">client/src/services/api.js</span>
        </div>
        <div class="code-content">
            <pre>import axios from 'axios';

// Create axios instance with base configuration
const api = axios.create({
  baseURL: process.env.NODE_ENV === 'production' ? '/api' : 'http://localhost:5000/api',
  timeout: 10000,
});

// Request interceptor
api.interceptors.request.use(
  (config) => {
    console.log(`Making ${config.method.toUpperCase()} request to ${config.url}`);
    return config;
  },
  (error) => {
    return Promise.reject(error);
  }
);

// Response interceptor
api.interceptors.response.use(
  (response) => {
    return response;
  },
  (error) => {
    console.error('API Error:', error.response?.data || error.message);
    return Promise.reject(error);
  }
);

// Client API calls
export const clientsAPI = {
  getAll: () => api.get('/clients'),
  getById: (id) => api.get(`/clients/${id}`),
  create: (data) => api.post('/clients', data),
  update: (id, data) => api.put(`/clients/${id}`, data),
  delete: (id) => api.delete(`/clients/${id}`),
};

// Project API calls
export const projectsAPI = {
  getAll: () => api.get('/projects'),
  getByClient: (clientId) => api.get(`/clients/${clientId}/projects`),
  getById: (id) => api.get(`/projects/${id}`),
  create: (clientId, data) => api.post(`/clients/${clientId}/projects`, data),
  update: (id, data) => api.put(`/projects/${id}`, data),
  delete: (id) => api.delete(`/projects/${id}`),
};

// Market Research API calls
export const researchAPI = {
  getByClient: (clientId) => api.get(`/clients/${clientId}/research`),
  conduct: (clientId, researchType) => api.post(`/clients/${clientId}/research`, { research_type: researchType }),
};

// Questions API calls
export const questionsAPI = {
  getByProject: (projectId) => api.get(`/projects/${projectId}/questions`),
  generate: (projectId, questionTypes) => api.post(`/projects/${projectId}/questions/generate`, { question_types: questionTypes }),
  answer: (id, answer) => api.put(`/questions/${id}/answer`, { answer }),
  create: (projectId, data) => api.post(`/projects/${projectId}/questions`, data),
  update: (id, data) => api.put(`/questions/${id}`, data),
  delete: (id) => api.delete(`/questions/${id}`),
};

// WMS Processes API calls
export const wmsProcessesAPI = {
  getAll: () => api.get('/wms-processes'),
  getById: (id) => api.get(`/wms-processes/${id}`),
};

// Dashboard API calls
export const dashboardAPI = {
  getSummary: () => api.get('/dashboard'),
};

export default api;</pre>
        </div>
    </div>

    <!-- File 2: Sidebar Component -->
    <div class="file-section">
        <div class="file-header">
            <span class="file-path">client/src/components/Sidebar.js</span>
        </div>
        <div class="code-content">
            <pre>import React from 'react';
import { Layout, Menu } from 'antd';
import { useNavigate, useLocation } from 'react-router-dom';
import {
  DashboardOutlined,
  UserOutlined,
  ProjectOutlined,
  SettingOutlined,
} from '@ant-design/icons';

const { Sider } = Layout;

const Sidebar = () => {
  const navigate = useNavigate();
  const location = useLocation();

  const menuItems = [
    {
      key: '/dashboard',
      icon: <DashboardOutlined />,
      label: 'Dashboard',
    },
    {
      key: '/clients',
      icon: <UserOutlined />,
      label: 'Clients',
    },
    {
      key: '/projects',
      icon: <ProjectOutlined />,
      label: 'Projects',
    },
    {
      key: '/wms-processes',
      icon: <SettingOutlined />,
      label: 'WMS Processes',
    },
  ];

  const handleMenuClick = ({ key }) => {
    navigate(key);
  };

  return (
    <Sider
      width={250}
      className="sidebar"
      style={{
        background: '#001529',
        minHeight: '100vh',
      }}
    >
      <div 
        style={{ 
          padding: '16px', 
          color: 'white', 
          fontSize: '18px', 
          fontWeight: 'bold',
          borderBottom: '1px solid #1890ff'
        }}
      >
        üè≠ WMS Consultant
      </div>
      <Menu
        mode="inline"
        selectedKeys={[location.pathname]}
        style={{ height: '100%', borderRight: 0 }}
        theme="dark"
        items={menuItems}
        onClick={handleMenuClick}
      />
    </Sider>
  );
};

export default Sidebar;</pre>
        </div>
    </div>

    <!-- File 3: Header Component -->
    <div class="file-section">
        <div class="file-header">
            <span class="file-path">client/src/components/Header.js</span>
        </div>
        <div class="code-content">
            <pre>import React from 'react';
import { Layout, Breadcrumb, Dropdown, Avatar, Space } from 'antd';
import { UserOutlined, DownOutlined } from '@ant-design/icons';
import { useLocation } from 'react-router-dom';

const { Header: AntHeader } = Layout;

const Header = () => {
  const location = useLocation();

  const getBreadcrumbs = () => {
    const pathnames = location.pathname.split('/').filter(x => x);
    const breadcrumbs = [{ title: 'Home' }];
    
    pathnames.forEach((name, index) => {
      const routeTo = `/${pathnames.slice(0, index + 1).join('/')}`;
      breadcrumbs.push({
        title: name.charAt(0).toUpperCase() + name.slice(1).replace('-', ' ')
      });
    });
    
    return breadcrumbs;
  };

  const userMenuItems = [
    {
      key: 'profile',
      label: 'Profile',
    },
    {
      key: 'settings',
      label: 'Settings',
    },
    {
      key: 'logout',
      label: 'Logout',
    },
  ];

  return (
    <AntHeader 
      style={{ 
        background: '#fff', 
        padding: '0 24px',
        borderBottom: '1px solid #f0f0f0',
        display: 'flex',
        justifyContent: 'space-between',
        alignItems: 'center'
      }}
    >
      <Breadcrumb items={getBreadcrumbs()} />
      
      <Dropdown
        menu={{ items: userMenuItems }}
        trigger={['click']}
      >
        <Space style={{ cursor: 'pointer' }}>
          <Avatar icon={<UserOutlined />} />
          <span>WMS Consultant</span>
          <DownOutlined />
        </Space>
      </Dropdown>
    </AntHeader>
  );
};

export default Header;</pre>
        </div>
    </div>

    <!-- File 4: Dashboard Page -->
    <div class="file-section">
        <div class="file-header">
            <span class="file-path">client/src/pages/Dashboard.js</span>
        </div>
        <div class="code-content">
            <pre>import React, { useState, useEffect } from 'react';
import { Card, Row, Col, Statistic, Table, Tag } from 'antd';
import { UserOutlined, ProjectOutlined, QuestionOutlined, RiseOutlined } from '@ant-design/icons';
import { PieChart, Pie, Cell, ResponsiveContainer } from 'recharts';
import { dashboardAPI } from '../services/api';

const Dashboard = () => {
  const [summary, setSummary] = useState({
    total_clients: 0,
    total_projects: 0,
    total_questions: 0,
    answered_questions: 0,
    question_completion_rate: 0
  });
  const [recentProjects, setRecentProjects] = useState([]);
  const [industryData, setIndustryData] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchDashboardData();
  }, []);

  const fetchDashboardData = async () => {
    try {
      const response = await dashboardAPI.getSummary();
      const data = response.data;
      setSummary(data.summary);
      setRecentProjects(data.recent_projects || []);
      setIndustryData(data.industry_distribution || []);
    } catch (error) {
      console.error('Error fetching dashboard data:', error);
    } finally {
      setLoading(false);
    }
  };

  const COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#8884d8'];

  const projectColumns = [
    {
      title: 'Project Name',
      dataIndex: 'name',
      key: 'name',
    },
    {
      title: 'Status',
      dataIndex: 'status',
      key: 'status',
      render: (status) => (
        <Tag color={status === 'active' ? 'green' : status === 'completed' ? 'blue' : 'orange'}>
          {status?.toUpperCase()}
        </Tag>
      ),
    },
    {
      title: 'Created',
      dataIndex: 'created_at',
      key: 'created_at',
      render: (date) => new Date(date).toLocaleDateString(),
    },
  ];

  return (
    <div style={{ padding: '24px' }}>
      <h1>Dashboard</h1>
      
      <Row gutter={[16, 16]} style={{ marginBottom: '24px' }}>
        <Col xs={24} sm={12} lg={6}>
          <Card>
            <Statistic
              title="Total Clients"
              value={summary.total_clients}
              prefix={<UserOutlined />}
              valueStyle={{ color: '#3f8600' }}
            />
          </Card>
        </Col>
        <Col xs={24} sm={12} lg={6}>
          <Card>
            <Statistic
              title="Active Projects"
              value={summary.total_projects}
              prefix={<ProjectOutlined />}
              valueStyle={{ color: '#1890ff' }}
            />
          </Card>
        </Col>
        <Col xs={24} sm={12} lg={6}>
          <Card>
            <Statistic
              title="Total Questions"
              value={summary.total_questions}
              prefix={<QuestionOutlined />}
              valueStyle={{ color: '#722ed1' }}
            />
          </Card>
        </Col>
        <Col xs={24} sm={12} lg={6}>
          <Card>
            <Statistic
              title="Completion Rate"
              value={summary.question_completion_rate}
              suffix="%"
              prefix={<RiseOutlined />}
              valueStyle={{ color: '#cf1322' }}
            />
          </Card>
        </Col>
      </Row>

      <Row gutter={[16, 16]}>
        <Col xs={24} lg={12}>
          <Card title="Industry Distribution" style={{ height: '400px' }}>
            <ResponsiveContainer width="100%" height={300}>
              <PieChart>
                <Pie
                  data={industryData}
                  cx="50%"
                  cy="50%"
                  labelLine={false}
                  label={({ industry, count }) => `${industry}: ${count}`}
                  outerRadius={80}
                  fill="#8884d8"
                  dataKey="count"
                >
                  {industryData.map((entry, index) => (
                    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />
                  ))}
                </Pie>
              </PieChart>
            </ResponsiveContainer>
          </Card>
        </Col>

        <Col xs={24} lg={12}>
          <Card title="Recent Projects" style={{ height: '400px' }}>
            <Table
              columns={projectColumns}
              dataSource={recentProjects}
              loading={loading}
              rowKey="id"
              pagination={false}
              size="small"
              locale={{
                emptyText: 'No recent projects found'
              }}
            />
          </Card>
        </Col>
      </Row>
    </div>
  );
};

export default Dashboard;</pre>
        </div>
    </div>

    <!-- File 5: Clients Page -->
    <div class="file-section">
        <div class="file-header">
            <span class="file-path">client/src/pages/Clients.js</span>
        </div>
        <div class="code-content">
            <pre>import React, { useState, useEffect } from 'react';
import { Card, Table, Button, Modal, Form, Input, Select, Space, message } from 'antd';
import { PlusOutlined, EditOutlined, EyeOutlined } from '@ant-design/icons';
import { useNavigate } from 'react-router-dom';
import { clientsAPI } from '../services/api';

const { Option } = Select;

const Clients = () => {
  const [clients, setClients] = useState([]);
  const [loading, setLoading] = useState(true);
  const [modalVisible, setModalVisible] = useState(false);
  const [editingClient, setEditingClient] = useState(null);
  const [form] = Form.useForm();
  const navigate = useNavigate();

  useEffect(() => {
    fetchClients();
  }, []);

  const fetchClients = async () => {
    try {
      const response = await clientsAPI.getAll();
      setClients(response.data);
    } catch (error) {
      message.error('Failed to fetch clients');
    } finally {
      setLoading(false);
    }
  };

  const handleAdd = () => {
    setEditingClient(null);
    form.resetFields();
    setModalVisible(true);
  };

  const handleEdit = (client) => {
    setEditingClient(client);
    form.setFieldsValue(client);
    setModalVisible(true);
  };

  const handleSubmit = async (values) => {
    try {
      if (editingClient) {
        await clientsAPI.update(editingClient.id, values);
        message.success('Client updated successfully');
      } else {
        await clientsAPI.create(values);
        message.success('Client created successfully');
      }
      setModalVisible(false);
      fetchClients();
    } catch (error) {
      message.error('Failed to save client');
    }
  };

  const columns = [
    {
      title: 'Name',
      dataIndex: 'name',
      key: 'name',
    },
    {
      title: 'Industry',
      dataIndex: 'industry',
      key: 'industry',
    },
    {
      title: 'Company Size',
      dataIndex: 'company_size',
      key: 'company_size',
    },
    {
      title: 'Location',
      dataIndex: 'location',
      key: 'location',
    },
    {
      title: 'Actions',
      key: 'actions',
      render: (_, record) => (
        <Space>
          <Button
            type="primary"
            icon={<EyeOutlined />}
            onClick={() => navigate(`/clients/${record.id}`)}
          >
            View
          </Button>
          <Button
            icon={<EditOutlined />}
            onClick={() => handleEdit(record)}
          >
            Edit
          </Button>
        </Space>
      ),
    },
  ];

  return (
    <div style={{ padding: '24px' }}>
      <Card
        title="Clients"
        extra={
          <Button type="primary" icon={<PlusOutlined />} onClick={handleAdd}>
            Add Client
          </Button>
        }
      >
        <Table
          columns={columns}
          dataSource={clients}
          loading={loading}
          rowKey="id"
          pagination={{
            pageSize: 10,
            showSizeChanger: true,
            showQuickJumper: true,
          }}
        />
      </Card>

      <Modal
        title={editingClient ? 'Edit Client' : 'Add Client'}
        open={modalVisible}
        onCancel={() => setModalVisible(false)}
        footer={null}
      >
        <Form
          form={form}
          layout="vertical"
          onFinish={handleSubmit}
        >
          <Form.Item
            label="Name"
            name="name"
            rules={[{ required: true, message: 'Please enter client name' }]}
          >
            <Input />
          </Form.Item>
          
          <Form.Item
            label="Industry"
            name="industry"
          >
            <Select placeholder="Select industry">
              <Option value="E-commerce">E-commerce</Option>
              <Option value="Retail">Retail</Option>
              <Option value="Manufacturing">Manufacturing</Option>
              <Option value="Healthcare">Healthcare</Option>
              <Option value="Automotive">Automotive</Option>
            </Select>
          </Form.Item>

          <Form.Item
            label="Company Size"
            name="company_size"
          >
            <Select placeholder="Select company size">
              <Option value="Small">Small (1-50 employees)</Option>
              <Option value="Medium">Medium (51-500 employees)</Option>
              <Option value="Large">Large (500+ employees)</Option>
            </Select>
          </Form.Item>

          <Form.Item
            label="Location"
            name="location"
          >
            <Input />
          </Form.Item>

          <Form.Item
            label="Contact Email"
            name="contact_email"
          >
            <Input type="email" />
          </Form.Item>

          <Form.Item
            label="Contact Phone"
            name="contact_phone"
          >
            <Input />
          </Form.Item>

          <Form.Item
            label="Description"
            name="description"
          >
            <Input.TextArea rows={3} />
          </Form.Item>

          <Form.Item>
            <Space>
              <Button type="primary" htmlType="submit">
                {editingClient ? 'Update' : 'Create'}
              </Button>
              <Button onClick={() => setModalVisible(false)}>
                Cancel
              </Button>
            </Space>
          </Form.Item>
        </Form>
      </Modal>
    </div>
  );
};

export default Clients;</pre>
        </div>
    </div>

    <!-- File 6: WMS Processes Page -->
    <div class="file-section">
        <div class="file-header">
            <span class="file-path">client/src/pages/WMSProcesses.js</span>
        </div>
        <div class="code-content">
            <pre>import React, { useState, useEffect } from 'react';
import { Card, Row, Col, Tag, Collapse, List, Spin } from 'antd';
import { wmsProcessesAPI } from '../services/api';

const { Panel } = Collapse;

const WMSProcesses = () => {
  const [processes, setProcesses] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchProcesses();
  }, []);

  const fetchProcesses = async () => {
    try {
      const response = await wmsProcessesAPI.getAll();
      setProcesses(response.data);
    } catch (error) {
      console.error('Error fetching WMS processes:', error);
    } finally {
      setLoading(false);
    }
  };

  const getCategoryColor = (category) => {
    switch (category) {
      case 'Inbound':
        return '#1890ff';
      case 'Outbound':
        return '#52c41a';
      case 'Inventory':
        return '#fa8c16';
      default:
        return '#722ed1';
    }
  };

  if (loading) {
    return (
      <div style={{ display: 'flex', justifyContent: 'center', padding: '50px' }}>
        <Spin size="large" />
      </div>
    );
  }

  return (
    <div style={{ padding: '24px' }}>
      <h1>WMS Processes Reference</h1>
      <p style={{ marginBottom: '24px', color: '#666' }}>
        Comprehensive guide to Warehouse Management System processes and typical questions for each.
      </p>

      <Row gutter={[16, 16]}>
        {processes.map((process) => (
          <Col xs={24} lg={12} key={process.id}>
            <Card
              className="process-card"
              title={
                <div>
                  <span style={{ marginRight: '8px' }}>{process.name}</span>
                  <Tag color={getCategoryColor(process.category)}>
                    {process.category}
                  </Tag>
                </div>
              }
              style={{ height: '100%' }}
            >
              <p style={{ marginBottom: '16px' }}>{process.description}</p>
              
              <Collapse ghost>
                <Panel header="Typical Questions" key="questions">
                  <List
                    size="small"
                    dataSource={process.typical_questions}
                    renderItem={(question) => (
                      <List.Item>
                        <span style={{ color: '#666' }}>‚Ä¢ {question}</span>
                      </List.Item>
                    )}
                  />
                </Panel>
              </Collapse>
            </Card>
          </Col>
        ))}
      </Row>
    </div>
  );
};

export default WMSProcesses;</pre>
        </div>
    </div>

</body>
</html>